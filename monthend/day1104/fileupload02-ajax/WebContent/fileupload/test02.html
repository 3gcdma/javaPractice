<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
	<form id="fileForm">
		<input type="text" name="msg">
		<input type="file" name="attach" multiple>
		<button type="button">전송</button>
	</form>
	
	<script type="text/javascript">
		$("button").click(function () {
			/* 
			//데이터 전송을 위한 객체 생성
			let fd = new FormData();
			fd.append("msg", $("input[name='msg']").val())
			let files = $("input[name='attach']")[0].files;
			for(let i = 0; i < files.length; i++){
				fd.append("attach", files[i]);
			}
			
			 */
			
			
			//또 다른 방법
			let fd = new FormData($("fileForm")[0]);
			
			 
			//ajax 방식으로 파일 업로드시 추가할 2가지 속성
			//1. processData
			//2. contentType
			//
			$.ajax({
				url:"test.do",
				data: fd,
				type: "post",
				processData: false,
				contentType : false,
				success: function () {
					alert("AJAX 파일 업로드 하기")
				}
			})
			
				
		});
	</script>
</body>
</html>